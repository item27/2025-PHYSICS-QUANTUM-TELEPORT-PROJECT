# Что происходит на каждом шаге протокола

Этот документ объясняет шаги протокола **простым языком** и показывает, **какие формулы мы используем для визуальных вычислений**. Это не физический симулятор — мы делаем понятную картинку процесса.

## 1) Подготовка запутанной пары (Charlie)

**Смысл для пользователя:** Чарли готовит пару связанных кубитов и раздаёт по одному Алисе и Бобу.

**Что показываем визуально:**
- Кубит Чарли и Боба получают «согласованную» фазу, чтобы выглядели связанными.

**Формулы визуализации:**
- Экваториальное состояние для пары:

$$
\theta = \frac{\pi}{2}, \qquad r = 1
$$

- Фаза синхронизируется:

$$
\varphi_{\text{Charlie}} = \varphi_{\text{Alice}}, \qquad
\varphi_{\text{Bob}} = \varphi_{\text{Alice}} + \frac{\pi}{2}
$$

---

## 2) Объединение состояний (Alice)

**Смысл для пользователя:** Алиса «сцепляет» свой неизвестный кубит с полученной частицей из пары.

**Что показываем визуально:**
- На схеме появляется связь между кубитом Алисы и частицей пары.
- Фаза у частицы Чарли может немного смещаться, чтобы показать изменение.

**Формулы визуализации:**

$$
\varphi_{\text{Charlie}} = \varphi_{\text{Alice}} + \frac{\pi}{3}
$$

Других вычислений на этом шаге нет — это визуальный маркер взаимодействия.

---

## 3) Измерение Алисы

**Смысл для пользователя:** Алиса измеряет пару, и исходное состояние **исчезает**. Это обязательная часть протокола.

**Что показываем визуально:**
- Состояние Алисы «схлопывается» к одному из полюсов сферы.
- Радиус уменьшается, чтобы показать потерю квантовой «чистоты».

**Формулы визуализации:**

$$
\theta' =
\begin{cases}
0, & \cos(\theta) \ge 0 \\
\pi, & \cos(\theta) < 0
\end{cases}
$$

$$
\varphi' = \varphi, \qquad r' = 0.68
$$

---

## 4) Классическая передача

**Смысл для пользователя:** Алиса отправляет Бобу два классических бита результата измерения.

**Что показываем визуально:**
- В интерфейсе отмечается, что без классического канала восстановление невозможно.

**Формулы визуализации:**
- На этом шаге **нет дополнительных вычислений**. Мы сохраняем уже получённые параметры.

---

## 5) Восстановление у Боба

**Смысл для пользователя:** Боб применяет коррекции и получает состояние Алисы.

**Что показываем визуально:**
- Бобу возвращается исходная фаза и положение на сфере Блоха.

**Формулы визуализации:**

$$
\theta_{\text{Bob}} = \theta_{\text{Alice (исходная)}},
\qquad
\varphi_{\text{Bob}} = \varphi_{\text{Alice (исходная)}}
$$

$$
 r_{\text{Bob}} = 1
$$

---

## 6) Готово

**Смысл для пользователя:** Телепортация завершена, исходник уничтожен, копия у Боба.

**Что показываем визуально:**
- Итоговое состояние остаётся у Боба.

**Формулы визуализации:**
- Дополнительных вычислений нет — показываем состояние, полученное на предыдущем шаге.

---

## Общая формула для отображения на сфере Блоха

Чтобы рисовать точку на сфере, мы используем стандартную тригонометрию:

$$
\begin{aligned}
 x &= \sin(\theta) \cdot \cos(\varphi) \cdot r \\
 y &= \sin(\theta) \cdot \sin(\varphi) \cdot r \\
 z &= \cos(\theta) \cdot r
\end{aligned}
$$

Эта формула используется **только для визуализации**.

---

## Рекурсивное объяснение терминов

Ниже — словарь терминов. Каждый термин объясняется через более простые слова, которые тоже раскрыты в этом разделе.

- **Кубит** — элемент визуальной модели, который хранит состояние.
  - **Состояние** — набор параметров, которые мы рисуем на сфере Блоха.
    - **Угол $\\theta$** — положение по вертикали: ближе к «северу» или «югу» сферы.
    - **Фаза $\\varphi$** — положение по кругу, «поворот» вокруг вертикальной оси.
    - **Радиус $r$** — насколько состояние «чистое» в визуализации (1 — чисто, меньше — ослаблено).
  - **Сфера Блоха** — круглая схема, на которой мы показываем состояние кубита.

- **Запутанная пара** — два кубита, чьи параметры связаны общей фазой.
  - **Связанная фаза** — мы задаём такие $\\varphi$, чтобы точки выглядели согласованно.
  - **Экваториальное состояние** — точки лежат на «поясе» сферы при $\\theta = \\pi/2$.

- **Объединение состояний** — визуальный момент, когда кубит Алисы связывается с частицей пары.
  - **Связь** — линии и подсветка на схеме, показывающие взаимодействие.

- **Измерение** — шаг, где исходное состояние у Алисы исчезает.
  - **Коллапс** — визуальное «схлопывание» точки к полюсу и уменьшение радиуса.
  - **Полюса** — верхняя и нижняя точки сферы (условные «0» и «1»).

- **Классическая передача** — обычная передача двух бит результата измерения.
  - **Классический канал** — привычная связь (интернет/кабель), где информация копируется.

- **Коррекция** — шаг, где Боб применяет нужные правки, чтобы восстановить состояние.
  - **Восстановление** — возвращение параметров $\\theta$, $\\varphi$, $r$ к исходным.

- **Протокол** — последовательность шагов, которые нужно пройти по порядку.
  - **Шаг** — конкретная стадия, показанная в интерфейсе (entangle, combine, measure, send, reconstruct, complete).
