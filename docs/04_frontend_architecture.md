# Архитектура frontend (React)

## 1. Назначение
Описание устройства клиентского приложения Quantum Teleportation Visualizer.

## 2. Технологии
- React + TypeScript + Vite.
- WebSocket-клиент для сетевого режима.
- Минимальный state-менеджмент на уровне компонентов/контекстов.

## 3. Основные части интерфейса
- **Главный экран** с выбором режима: демонстрационный или сетевой.
- **Демо-режим**: локальный стейт, переключение шагов протокола, подсказки и визуализации состояний кубитов.
- **Сетевой режим**: форма ввода Session ID, список ролей, подключение по токену, кнопка «Шаг моей роли», лог состояния.

## 4. Потоки данных
- В демо-режиме состояние хранится в компонентах, кнопки переключают шаги и обновляют визуализацию.
- В сетевом режиме REST-запросы используются для создания/проверки сессии и join/leave, WebSocket - для получения обновлений состояния.
- Компоненты UI не принимают решения о шагах: они отображают полученное состояние и отправляют команды на сервер.

## 5. UX акценты
- Тексты и подсказки на простом русском языке.
- Видно, какой шаг активен и какая роль подключена.
- Ошибки соединения и валидации отображаются ясно и без технических деталей.
- Тёмная тема с лаконичными визуальными метафорами (иконки шагов, простые иллюстрации на основе сферы Блоха).
- Визуализация сферы Блоха слегка повернута, чтобы оси не сливались и были читаемы.
- В футере может отображаться ссылка на подробную документацию, если задана переменная окружения `VITE_DOCS_URL`.

## 6. Definition of Done для frontend
- Работает переключение режимов и ключевые сценарии каждого режима.
- WebSocket пересылает состояния и корректно обрабатывается переподключение.
- Подсказки сопровождают ключевые события (создание пары Белла, измерение, отправка битов, коррекция).
- Нет скрытой бизнес-логики в UI: все важные решения приходят с сервера или из локального демо-стейта.
